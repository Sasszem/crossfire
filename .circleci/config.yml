version: 2
jobs:
  test:
    docker:
      - image: martijnrondeel/luarocks
    steps:
      - checkout
      - run: ./ci/setup.sh
      - run: moon build.moon test
  style:
    docker:
      - image: martijnrondeel/luarocks
    steps:
      - checkout
      - run: ./ci/setup.sh
      - run: moon build.moon lint
workflows:
 version: 2
 build:
   jobs:
     - test
     - style